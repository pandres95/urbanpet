<md-dialog ng-cloak style="max-width:800px; max-height:810px; width:85%;">
    <form name="manageCategoryForm" ng-submit="manageCategory(category)">
        <md-toolbar>
            <div ng-switch on="edit" class="md-toolbar-tools">
                <h2 ng-switch-when="true">Editar categoría: {{category.name}}</h2>
                <h2 ng-switch-when="false">Agregar nueva categoría</h2>
                <span flex></span>
                <md-button class="md-icon-button" ng-click="cancel()">
                    <md-icon md-svg-src="img/icons/close.svg" aria-label="Cerrar diálogo"></md-icon>
                </md-button>
            </div>
            <md-progress-linear md-mode="indeterminate" ng-show="loading"></md-progress-linear>
        </md-toolbar>
        <md-dialog-content>
            <div class="md-dialog-content">

                <md-input-container>
                    <label>Identificador</label>
                    <input ng-disabled="edit" ng-model="category._id">
                </md-input-container>
                <md-input-container class="md-block">
                    <label>Nombre</label>
                    <textarea ng-model="category.name"></textarea>
                </md-input-container>

                <md-input-container>
                    <md-radio-group ng-model="type">
                      <md-radio-button value="venue">Lugar</md-radio-button>
                      <md-radio-button value="product">Producto</md-radio-button>
                    </md-radio-group>
                </md-input-container>

                <md-input-container ng-if="type === 'venue'">
                    <img ng-if="file" style="max-width: 100%" ngf-thumbnail="file || '/thumb.jpg'">
                    <img ng-if="!file && category.image" style="max-width: 100%" ng-src="{{category.image | image}}" >
                    <md-button ngf-drop name="file" ngf-select ng-model="file" ngf-multiple="false" ngf-pattern="'image/*'">
                        Escoger imagen del puntero
                    </md-button>
                </md-input-container>

                <center>
                    <md-button type="submit" class="md-fab md-secondary">
                        <md-icon md-svg-src="img/icons/send.svg" aria-label="send"></md-icon>
                    </md-button>
                </center>
            </div>
        </md-dialog-content>
    </form>
</md-dialog>
